{% load static %}

<!DOCTYPE html>
<html>
   <head>
      <title>Item</title>
      <link rel="icon" href="{% static 'logo.png' %}" type="image/png">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="{% static 'styles.css' %}">

      <link rel="stylesheet" href="{% static 'style.css' %}">
      <link rel="stylesheet" href="{% static 'index.css' %}">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"> 
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
      <style>
        input[type="submit"].Rechercher {
          /* Default styles */
          background-color: black;
          padding: 10px 20px;
          border: none;
          cursor: pointer;
          transition: transform 0.3s ease;
        }
    
        input[type="submit"].Rechercher:hover {
          /* Hover styles */
          transform: scale(1.05);
        }
        a { transition: transform 0.3s ease;
          }

          a:hover {
            transform: scale(1.05); /* Increased font size on hover */
          }
          .profile{font-size:20px; color:white


          }
          i:hover{font-size:25px;

          }
          .fas.fa-chevron-up:hover
          {background-color: rgb(165, 165, 165);
          }
          .fas.fa-chevron-down:hover
          {background-color: rgb(165, 165, 165);
          }
          .input-group {
                display: flex;
                gap: 10px;
              }

              .form-group {
                margin-bottom: 10px;
              }

              .price {
                display: inline-block;
                width: 60px;
              }
              .btn.btn-primary
              {transition: transform 0.3s ease;}
              .btn.btn-primary:hover
              { transform: scale(1.05);}
          
              .fixed-image {
                     height: 100%;
                     width: 500px; 
                     object-fit: fill; /* Maintain aspect ratio and fill the container */
                     }


                     /********************/
                
      .prev,
      .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
      }
      /* Position the "next button" to the right */
      .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }
      /* On hover, add a black background color with a little bit see-through */
      .prev:hover,
      .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
      } 
      
      /******************************/
      
        /* CSS for the slideshow */
        .slideshow-container {
            position: relative;
            max-width: 1000px;
            margin: auto;
            height: 400px;
        }

        .mySlides {
            display: none;
        }

        .slideshow-container img {
            width: 100%;
            height: 400px;
        }

        /* CSS for the dots */
        .dot {
            height: 15px;
            width: 15px;
            margin: 0 2px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 1s ease;
        }

        .active {
            background-color: #717171;
        }
    </style>

      
    
    </head>
   <body>
      
         <div class="">
          <nav class="navbar-expand-lg"  style="background-color: black; height: 100px; padding-top: 0;">
                           <div class="container" style="background-color: black; " >
                            <a class="logo" href="{% url 'home' %}"><img src="{% static 'logo.png' %}" style="height: 50px;margin-top: 10px; margin-left:0px; margin-right:10px;width: 50px;"></a>
                           <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                              <span class="navbar-toggler-icon"></span>
                              </button>
                           <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                    <ul class="navbar-nav mr-auto">
                                       <li class="nav-item"><a class="nav-link" href="{% url 'home' %}" style=" margin-top: 20px;margin-left:-20em;margin-right:10px;width: 150px;">Home</a></li>
                                       <li class="nav-item"><a class="nav-link" href="{%url 'stats' %}" style="margin-top: 20px;margin-left:-10em;margin-right:10px;width: 150px;">Stats</a></li>
                                    </ul>
                           
                                    <ul style="margin-top: 20px; margin-right:0px ;">
                                    <li>
                                       {% if request.user.is_authenticated %}
                                       <a class="profile" href="{% url 'profile' %}"style="font-size:20px; color:white">{{ request.user.username }} <i class="fas fa-user"></i></a>
                                       {% else %}
                                       <a class="profile" href="{% url 'login_user' %}"style="font-size:20px; color:white"><i class="fas fa-user"></i></a>
                                       {% endif %}
                                    </li>
                                    </ul>
                           
                           </div>    
          </nav>
       </div>
       
 
       <br>
   
     
      
         <div class="container" >
 
               <div class="row" style="display: flex; flex-direction: column;  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); background-color: rgb(244, 228, 234)">
                  <div class="slideshow-container" style=" display: grid;place-items: center; width: 100% ;margin-top: 50px;  z-index: 1;">
                   {% if item.imagesurlslist %}
                           {% for link in item.imagesurlslist %}
                              <div class="mySlides" style="box-shadow: 0 10px 10px rgba(0, 0, 0, 0);">
                                 {% if item.website == "facebook.com" or item.website == "remax.com.tn" or item.website == "tayara.tn" or item.website == "bnb.tn"%}
                                 <img src="{{ link }}" alt="Slide Image">
                                 {% else %}
                                 <img src="http://{{link}}" alt="Slide Image">
                                 {% endif %}
                              </div>
                           {% endfor %}
                            <br>
                           <div style="text-align:center">
                              {% for link in item.imagesurlslist %}
                                 <span class="dot"></span>
                              {% endfor %}
                           </div>
                  {% else %}
                           <div class="mySlides" style="box-shadow: 0 10px 10px rgba(0, 0, 0, 0);">
                           <img src="https://atlas-content-cdn.pixelsquid.com/stock-images/simple-house-NxE5a78-600.jpg">
                           </div>
                  {% endif %}

                 </div>
                 {% if request.user.is_authenticated %}
                     {% if saved %}
                        
                           <a href="#" style=" text-align:center ;background-color: rgba(255, 255, 255, 0.61);color: rgb(0, 0, 0); font-size: 24px; width: 50px; margin-left: 800px; margin-top: -1em;  z-index: 2;"><i class="fas fa-star"></i></i></a>
                           {%else%} 
                           <a href="{% url 'addtosaved' %}?item={{ item.code|urlencode }}" style=" text-align:center ;background-color: rgba(255, 255, 255, 0.61);color: rgb(0, 0, 0); font-size: 24px; width: 50px; margin-left: 800px; margin-top: -1em;  z-index: 2;"><i class="far fa-star"></i></i></a>

                           {% endif %}

                  
                 {% endif %}
                 <p> <i class="fas fa-map-marker-alt"></i> {% if item.ville %} {{item.ville}}, {% endif %}{% if item.zone and not item.zone == item.ville %} {{item.zone}}, {% endif %}{% if item.state %} {{item.state}}, {% endif %} {{item.country}} {% if item.dateinstered %} - {{item.dateinstered}} {% endif %}</p> 

                 <div style="display: flex; flex-direction: row; flex-wrap: wrap; ">
                 {% if item.price %} <p style=" flex-basis: 20%; display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;"><i class="fas fa-money-bill"></i>&nbsp;{{item.price}} TND</p> {% endif %}
                 {% if item.surfaceTotale %} <p style=" flex-basis: 20%; display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;"> <i class="fas fa-chart-bar"></i>&nbsp;{{item.surfaceTotale}} m&sup2;</p> {% endif %}
                  {% if item.place_voiture %} <p style=" display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;"> <i class="fas fa-car"></i>&nbsp;{{item.place_voiture}}</p> {% endif %}
                  {% if item.nombre_de_chambre %} <p style=" display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;"> <i class="fas fa-bed"></i>&nbsp;{{item.nombre_de_chambre}}</p> {% endif %}
                  {% if item.nombre_de_salle_de_bain %} <p style=" display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;">  <i class="fas fa-shower"></i>&nbsp; {{item.nombre_de_salle_de_bain}}</p> {% endif %}
               </div>
                 
               <div>
                 {% if item.description %}
                 <span style="color: black; font-size: 24px;  font-weight: bold; margin-left: 14px;">Détails:</span>
                 <p style="color: black; font-size:16px;  ">{% if item.type %} <span style="color: black; font-size: 20px;  "></span>{{item.type}}: {% endif %}</p>  

                 <p style="color: black; font-size:16px;  ">{% if item.adresse %} <span style="color: black; font-size: 20px;  ">Adresse: </span>{{item.adresse}} {% endif %}</p>  
                 <p style="color: black; font-size:16px;  ">{% if item.description %} <span style="color: black; font-size: 20px;  ">Déscription: </span>{{item.description}} {% endif %}</p>  

                 {% endif %}
                 <span>
                 {% if item.characteristicslist %}
                        {% for cara in item.characteristicslist %}
                        #{{cara}} &nbsp; 
                        {% endfor %}
         
                  {% endif %}{% if item.etage %} #{{item.etage}}Étage&nbsp; {% endif %}{% if item.nombre_de_piece %} #{{item.nombre_de_piece}}Piéces &nbsp; {% endif %}{% if item.anneeconstruction %} #{{item.anneeconstruction}}Construction&nbsp; {% endif %}</span>
               </div>
                 
                 <div style=" margin-left:40%; display: flex; justify-content: center; align-items: center; border: 1px solid black; height: 50px; width: 200px;"><a href="{{item.url}}"><i class="fas fa-link"></i>Original link</a></div>
                 
                 
                 <br><br>
                  
                 
                   
                
                
                  
            </div>
            <br><br>
         </div>
      

      <script>
         var slideIndex = 0;
         showSlides();
         function showSlides() {
             var i;
             var slides = document.getElementsByClassName("mySlides");
             var dots = document.getElementsByClassName("dot");
             for (i = 0; i < slides.length; i++) {slides[i].style.display = "none";}
             slideIndex++;
             if (slideIndex > slides.length) {slideIndex = 1;}
             for (i = 0; i < dots.length; i++) {dots[i].className = dots[i].className.replace(" active", "");}
             slides[slideIndex - 1].style.display = "block";
             dots[slideIndex - 1].className += " active";
             if  (slideIndex==slides.length){setTimeout(showSlides, 0);}
             else{setTimeout(showSlides, 5000);}          }
     </script>
     
     
     
     
     
     
     
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
      crossorigin="anonymous"></script>
   </body>
  
</html>